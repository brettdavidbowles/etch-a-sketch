<!DOCTYPE html>
<html>
    <head>
    </head>
    <body>
        <div>
        <button type = "button" id = 'button'>Reset</button>
        </div>
        <div id = "container">
            
        </div>
        
        <script>
        
            let numberOfSquaresWidth = prompt("How many squares across?");
            let numberOfSquaresHeight = prompt("How many squares tall?");
            let containerWidth = 960;
            let containerHeight = 960;
            let squareWidth = `${containerWidth/numberOfSquaresWidth}px`
            let squareHeight = `${containerHeight/numberOfSquaresHeight}px`

            const container = document.querySelector('#container');
            container.style.display = 'flex';
            container.style.flexDirection = 'row';
            container.style.flexFlow = 'row wrap';
            container.style.width = `${containerWidth}px`;
            container.style.height = `${containerHeight}px`
            container.style.alignItems = 'stretch';
            container.style.borderStyle = 'solid';
            container.style.borderColor = 'black';
            container.style.position = 'relative';

            
            
            
            
            

            function createSquare () {
                let x = 220
                let newSquare = document.createElement('div');
                newSquare.id = 'newSquare';
                newSquare.style.width = squareWidth;
                newSquare.style.height = squareHeight;
                newSquare.style.backgroundColor = 'rgb(220,220,220)';
                newSquare.style.borderColor = "black";
                newSquare.onmouseover = function () {
                    x -= 22;
                    newSquare.style.backgroundColor = `rgb(${x}, ${x}, ${x})`;
                    return x;
                }      

                container.appendChild(newSquare);
            }


            function gridSquares (width, height) {
                for (let i = 0; i < width*height; i++) {
                     createSquare(i+1);
                }
            }

            

            
            
            gridSquares(numberOfSquaresWidth, numberOfSquaresHeight);

            const reset = document.querySelector('#button');
            
            
            const squares = document.querySelectorAll('#newSquare');
            function removeSquares () {
                while (container.firstChild) {
    container.removeChild(container.firstChild);
           
            }
            }


            
            function newGridSquares () {
                let newNumberOfSquaresWidth = prompt('width?');
                let newNumberOfSquaresHeight = prompt('height?');
                squareWidth = `${containerWidth/newNumberOfSquaresWidth}px`
                squareHeight = `${containerHeight/newNumberOfSquaresHeight}px`
                gridSquares(newNumberOfSquaresWidth, newNumberOfSquaresHeight);
            }

            reset.addEventListener('click', (e) => {
               
                removeSquares();
                newGridSquares();
                
                console.log('test');
                console.log(container)
            })  
            

            
                

           
            
            
            
        </script>
    </body>
</html>